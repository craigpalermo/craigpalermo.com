{"componentChunkName":"component---src-templates-blog-post-js","path":"/building-this-site-with-github-actions/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"Craig's Blog"}},"markdownRemark":{"id":"a8453af1-41c9-5c7a-b0d8-89b42e540555","excerpt":"Yesterday, I was making some updates to this site and noticed that the process to publish updates was somewhat tedious.\nIn order to publish a change, I would…","html":"<p>Yesterday, I was making some updates to this site and noticed that the process to publish updates was somewhat tedious.\nIn order to publish a change, I would need to manually run <code class=\"language-text\">npm run build</code>, commit and push the changes, then\nreturn the the GitHub repo’s settings to change the custom domain for GitHub pages back to <code class=\"language-text\">craigpalermo.com</code>. For\nsome reason, this kept resetting each time I pushed changes to the <code class=\"language-text\">docs</code> folder. I figured it had something to do\nwith the fact that I was serving the site from a custom directory, but I wasn’t sure exactly why.</p>\n<p>Today, I had the inclination to try replicating this process with GitGub Actions. I hadn’t used Actions before, so I\nthought this would be a good place to start.</p>\n<p>I modified the default Node.js action to create <a href=\"https://github.com/craigpalermo/craigpalermo.com/blob/master/.github/workflows/main.yml\">this simple workflow</a>.\nIt performs the following steps whenever <code class=\"language-text\">master</code> changes:</p>\n<ol>\n<li>Checks out the repo</li>\n<li>Installs NPM dependencies and Gatsby</li>\n<li>Builds Gatsby static site</li>\n<li>Commits changes (thanks to this <a href=\"https://github.com/marketplace/actions/add-commit\">marketplace action</a>)</li>\n</ol>\n<p><a href=\"https://github.com/gitname/react-gh-pages/issues/19#issuecomment-436148409\">This answer</a> also explained why my\ncustom domain kept resetting and provided a simple fix that I could add to the <code class=\"language-text\">npm build</code> script.</p>\n<p>Although I’ve only just started with GitHub Actions, I’m pleasantly surprised at how easy it makes setting up\na simple cloud CI environment with almost no configuration. Its email notifications sent to your GitHub\naccount email are also a nice way to receive updates about your build status.</p>\n<p>Now I’ll never have to worry about where this site is hosted or how it’s deployed; all I have to do is push\nchanges to the Markdown or React content and GitHub takes care of the rest, for free!</p>","frontmatter":{"title":"Building This Site with GitHub Actions","date":"March 15, 2020"}}},"pageContext":{"slug":"/building-this-site-with-github-actions/","previous":{"fields":{"slug":"/nows-more-than-ever/"},"frontmatter":{"title":"Now's More Than Ever"}},"next":null}}}